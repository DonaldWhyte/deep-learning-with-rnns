<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">

    <title>Deep Learning with Recurrent Neural Networks</title>

    <meta name="description" content="Presentation briefly introducing deep learning and how to apply a specific subset of deep learning, recurrent neural networks, to solve real world problems.">
    <meta name="author" content="Alejandro Saucedo and Donald Whyte">

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

    <!-- HACK: I've imported MathJAX and manually tell it to re-render all
         equations after the external markdown slides have loaded (see script
         at bottom of this HTML file.

         reveal.js support for MathJAX does not appear to extend to *external*
         markdown files, so I needed to trigger the re-render when external
         files are loaded.
    -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/white.css" id="theme">
    <link rel="stylesheet" href="css/custom.css">

    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi )
        ? 'css/print/pdf.css' : 'css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="reveal">
      <div class="slides">
        <section data-markdown="contents.md"
                 data-separator="^\[NEXT SECTION\]"
                 data-separator-vertical="^\[NEXT\]"
                 data-separator-notes="^_note_">
        </section>
      </div>
    </div>

    <!--
        <section>
          <section data-markdown data-notes="
Good learning resources:

https://medium.com/@camrongodbout/recurrent-neural-networks-for-beginners-7aca4e933b82
          ">
            ## 3. Recurrent Neural Networks
          </section>

          <section data-markdown>
            TODO: basic definition of RNN w/ loop unrolling
            ![TODO](images/RNN-rolled.png)
          </section>

          <section data-markdown>
            TODO: what these can be used for (sequential data, things that need
            memory of past inputs for context)
          </section>

          <section data-markdown>
            TODO: limitations - in theory can remember all past inputs but in
            reality this doesn't work with vanilla RNNs
          </section>

          <section data-markdown>
            TODO: briely mention LSTMs, but don't go into it deal
          </section>
        </section>

        <section>
          <section data-markdown>
            ## 4. RNNs in Python
          </section>

          <section data-markdown data-notes="
Allows user to write symbolic mathematical expressions, then automatically generates their derivatives, saving the user from having to code gradients or backpropagation. These symbolic expressions are automatically compiled to CUDA code for a fast, on-the-GPU implementation.

Theano: The reference deep-learning library for Python with an API largely compatible with the popular NumPy library.
">
            * Libraries that build graph-based math expressions
            * Automatically generates the derivates of each node
            * Builds the system of equations to learn model parameters for you
          </section>

          <section data-markdown>
            TODO: basic diagram for this

            Low-level compute graph libraries:

            * Theano
            * Tensorflow (Google)
            * Caffe (Berkley)

            High-level libraries:

            * Keras
            * Sonnet (DeepMind)
          </section>

          <section data-markdown>
            Let's use *Keras*.
          </section>

          <section data-markdown>
            * Built on top of Tensorflow
            * Can build very complex networks quickly
            * Easy to extend if required
            * Built-in support for LSTM nodes
          </section>

          <section data-markdown data-notes="
Keras can use many compute backends, such as TensorFlow, Theano and CNTK.
">
            ### Installation

            Keras can use many compute backends.

            Let's use TensorFlow.

            ```bash
            pip3 install tensorflow
            pip3 install keras
            ```
          </section>

          <section data-markdown>
            ### TODO

            TODO
          </section>

          <section data-markdown data-notes="
Source: https://keras.io/visualization/
">
            Visualise a Keras model:

            ```bash
            # Install required dependencies to generate graphs
            brew install graphviz
            pip3 install pydot
            ```

            ```python
            from keras.utils import plot_model
            plot_model(model, to_file='model.svg')
            ```

            <img src="TODO: plotted graph" />
          </section>
        </section>

      </div>

    </div>
    -->

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>

    <!-- Custom JS libraries -->
    <script src="lib/js/jquery-3.2.1.min.js"></script>
    <script src="lib/js/highcharts.js"></script>

    <!-- Reveal initialisation -->
    <script>
      Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,

        transition: 'none', // none/fade/slide/convex/concave/zoom

        math: {
            mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js',
            // See http://docs.mathjax.org/en/latest/config-files.html
            config: 'TeX-AMS_HTML-full'
        },

        // Optional reveal.js plugins
        dependencies: [
          { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
          { src: 'plugin/zoom-js/zoom.js', async: true },
          { src: 'plugin/notes/notes.js', async: true },
          {
            src: 'plugin/external/external.js',
            condition: function() {
              return !!document.querySelector('[data-external]');
            }
          },
          // MathJax
          {
            src: 'http://cdn.jsdelivr.net/reveal.js/3.0.0/plugin/math/math.js',
            async: true
          }
        ]
      });
    </script>

    <script>
      // CONSTANTS
      var MIN_X = -5;
      var MAX_X = 5;
      var POINT_INTERVAL = 0.001;

      // FUNCTIONS
      function loadChartEvent() {
        $("text:contains('Highcharts.com')").remove();
      }

      function generatePoints(minX, maxX, pointInterval, func) {
        var pointsToGenerate = Math.abs(maxX - minX) / pointInterval;
        var data = [];
        for (var i = 0; i < pointsToGenerate; ++i) {
          var x = minX + (i * pointInterval)
          data.push([x, func(x)]);
        }
        return data;
      }

      Reveal.addEventListener('ready', function(event) {
        var baseShapeChart = {
          chart: {
            type: 'scatter',
            zoomType: 'xy',
            backgroundColor: 'rgba(0, 0, 0, 0)',
            events: { load: loadChartEvent }
          },
          title: { text: '' },
          xAxis: {
            title: {
              text: 'Area',
              style: {
                fontSize: '24px',
                color: 'black',
                'font-weight': 'strong'
              }
            },
            labels: {
              style: {
                color: 'black',
                'font-weight': 'strong',
                'font-size': '14px'
              }
            }
          },
          yAxis: {
            title: {
              text: 'Perimeter',
              style: {
                fontSize: '24px',
                color: 'black'
              }
            },
            labels: {
              style: {
                color: 'black',
                'font-weight': 'strong',
                'font-size': '14px'
              }
            }
          },
          legend: { enabled: false },
          tooltip: { enabled: false },
          exporting: { enabled: false },
          plotOptions: {
            scatter: {
              marker: {
                radius: 10,
                states: {
                  hover: { enabled: true, lineColor: '#000' }
                }
              }
            }
          },
          series: [
            {
              name: 'Square',
              marker: { symbol: 'square' },
              color: 'rgba(223, 83, 83, 1)',
              data: [
                [3.7, 0.9], [3.9, 1.7], [3.9, 0.9], [4.2, 1.2], [3.5, 1.4],
                [3.85, 1.3], [3.4, 1.0], [3.7, 1.25]
              ]
            }, {
              name: 'Triangle',
              marker: { symbol: 'triangle' },
              color: 'rgba(119, 152, 191, 1)',
              data: [
                [2.75, 0.18], [3.2, 0.22], [4.2, 0.65], [4.1, 0.20], [3.5, 0.4],
                [4.0, 0.24], [4.15, 0.5], [3.8, 0.5], [2.8, 0.6], [3.8, 0.5],
                [3.0, 0.8], [2.7, 1.4], [3.1, 0.5], [2.8, 1.3], [2.7, 1.1],
                [2.8, 0.9], [3.15, 1.25], [3.5, 1.9]
              ]
            }
          ]
        };
        var shapeChartWithDiscriminant = jQuery.extend(
          true, {}, baseShapeChart);
        shapeChartWithDiscriminant["series"].push({
          type: 'line',
          name: 'Discriminant',
          data: [[4.2, 0.1], [2.8, 1.9]],
          marker: {
            enabled: false
          },
          enableMouseTracking: false,
          showInLegend: false,
          lineWidth: 5,
          lineColor: 'black'
        });

        var shapeChartComplex = jQuery.extend(
          true, {}, baseShapeChart);
        shapeChartComplex['series'].push({
          type: 'spline',
          name: 'Discriminant',
          data: [
            [3.65, 1.9], [3.2, 1.0], [3.5, 0.65], [4.2, 0.8]
          ],
          marker: { enabled: false },
          enableMouseTracking: false,
          showInLegend: false,
          lineWidth: 5,
          lineColor: 'black'
        });

        var shapeChartOverfitting = jQuery.extend(
          true, {}, shapeChartComplex);
        shapeChartOverfitting['series'].push({
          name: 'Square-Wrong',
          marker: { symbol: 'square' },
          color: '#0f0',
          showInLegend: false,
          data: [
            [3.35, 1.75], [3.2, 1.7], [3.4, 1.5], [3.1, 1.5], [3.3, 1.55]
          ]
        });

        var deepLearningGrowthChart = {
          chart: {
            type: 'column',
            backgroundColor: 'rgba(0, 0, 0, 0)',
            events: { load: loadChartEvent },
            marginTop: 64,
            marginBottom: 32
          },
          title: { text: '' },
          xAxis: {
            categories: [
              '2015', '2016', '2017', '2018', '2019',
              '2020', '2021', '2022', '2023', '2024'
            ],
            crosshair: true,
            labels: {
              style: {
                color: 'black',
                'font-weight': 'strong',
                'font-size': '18px'
              }
            }
          },
          yAxis: {
            min: 0,
            tickInterval: 2000,
            title: {
              text: '$ millions',
              style: {
                color: 'black',
                'font-weight': 'strong',
                'font-size': '28px'
              }
            },
            labels: {
              formatter: function () {
                return '$' + this.value
              },
              style: {
                color: 'black',
                'font-weight': 'strong',
                'font-size': '18px'
              }
            }
          },
          legend: { enabled: false },
          tooltip: { enabled: false },
          exporting: { enabled: false },
          plotOptions: {
            column: {
              pointPadding: 0.2,
              borderWidth: 0
            }
          },
          series: [
            {
              name: 'Revenue',
              data: [ 100, 200, 400, 800, 1900, 3950, 6000, 7800, 9600, 10200 ]
            }
          ]
        };

        var baseActivationFunctionChart =  {
          chart: {
            backgroundColor: 'rgba(0, 0, 0, 0)',
            events: { load: loadChartEvent },
            marginTop: 32,
            marginBottom: 64
          },
          title: { text: '' },
          xAxis: {
            title: {
              text: 'Weighted Sum (x)',
              style: {
                color: 'black',
                'font-weight': 'strong',
                'font-size': '32px'
              }
            },
            min: -2,
            max: 2,
            tickInterval: 1.0,
            minorTickLength: 0,
            tickLength: 0,
            labels: {
              style: {
                color: 'black',
                'font-weight': 'strong',
                'font-size': '26px'
              }
            }
          },
          yAxis: {
            title: {
              text: 'f(x)',
              style: {
                color: 'black',
                'font-weight': 'strong',
                'font-style': 'italic',
                'font-size': '32px'
              }
            },
            min: -0.2,
            max: 1.2,
            tickInterval: 0.2,
            labels: {
              style: {
                color: 'black',
                'font-weight': 'strong',
                'font-size': '26px'
              }
            },
          },
          tooltip: { enabled: false },
          exporting: { enabled: false },
          legend: { enabled: false },
          series: []
        };

        var commonLegendConfig = {
          layout: 'vertical',
          align: 'right',
          verticalAlign: 'middle',
          borderWidth: 0,
          symbolWidth: 64,
          itemStyle: {
            color: 'black',
            'font-weight': 'strong',
            fontSize: '36px'
          },
          itemHoverStyle: {
            color: 'black',
            'font-weight': 'strong',
            fontSize: '36px'
          }
        };

        var sigmoidDataSeries = {
          name: 'Sigmoid',
          lineWidth: 5,
          color: '#ED561B',
          type: 'spline',
          data: (function() {
            var STEEPNESS = 3.0;
            function sigmoid(x) {
              var exponent = STEEPNESS * -x;
              return 1 / (1 + Math.exp(exponent));
            }

            return generatePoints(MIN_X, MAX_X, POINT_INTERVAL, sigmoid);
          })()
        };

        var sigmoidActivationFunctionChart = jQuery.extend(
          true, {}, baseActivationFunctionChart);
        sigmoidActivationFunctionChart.series.push(sigmoidDataSeries);

        var allActivationFunctionsChart = jQuery.extend(
          true, {}, baseActivationFunctionChart);
        allActivationFunctionsChart.series.push(sigmoidDataSeries);
        allActivationFunctionsChart.legend = commonLegendConfig;

        var reluDataSeries = {
          name: 'ReLU',
          lineWidth: 5,
          color: '#99BADD',
          data: (function() {
            return generatePoints(MIN_X, MAX_X, POINT_INTERVAL, function(x) {
              return Math.max(0, x);
            });
          })()
        };

        var softplusDataSeries = {
          name: 'Softplus',
          lineWidth: 5,
          color: 'green',
          data: (function() {
            return generatePoints(MIN_X, MAX_X, POINT_INTERVAL, function(x) {
              return Math.log(1 + Math.exp(x))
            });
          })()
        };

        var modernActivationFunctionsChart = jQuery.extend(
          true, {}, baseActivationFunctionChart);
        modernActivationFunctionsChart.series = [
          sigmoidDataSeries,
          reluDataSeries,
          softplusDataSeries
        ];
        modernActivationFunctionsChart.legend = commonLegendConfig;
        modernActivationFunctionsChart.xAxis.min = -5;
        modernActivationFunctionsChart.xAxis.max = 5;
        modernActivationFunctionsChart.xAxis.tickInterval = 5;
        modernActivationFunctionsChart.yAxis.min = -1;
        modernActivationFunctionsChart.yAxis.max = 5;
        modernActivationFunctionsChart.yAxis.tickInterval = 1;

        $('#shape-plot').highcharts(baseShapeChart);
        $('#shape-plot-discriminant').highcharts(shapeChartWithDiscriminant);
        $('#shape-plot-complex').highcharts(shapeChartComplex);
        $('#shape-plot-overfitting').highcharts(shapeChartOverfitting);
        $('#deep-learning-growth-chart').highcharts(deepLearningGrowthChart);
        $('#sigmoid-activation-function-chart').highcharts(sigmoidActivationFunctionChart);
        $('#all-activation-functions-chart').highcharts(allActivationFunctionsChart);
        $('#modern-activation-functions-chart').highcharts(modernActivationFunctionsChart);

        // Force a re-render after slides have loaded to ensure all math
        // equations are picked up.
        MathJax.Hub.Rerender();
      });
    </script>

  </body>
</html>
